<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Image preloading :) -->
    <link rel="preload" as="image" href="mascot.svg">
    <link rel="preload" as="image" href="white.svg">
    <link rel="preload" as="image" href="tinycon.png">
    <link rel="preload" as="image" href="XploreImage.png">
    <link rel="preload" as="image" href="XploreScreenshot.png">
    <!-- Font preloading :) -->
    <link rel="preload" as="font" href="/fonts/Fors Light Italic.ttf" crossorigin="anonymous">
    <link rel="preload" as="font" href="/fonts/MaaxUnicase.otf" crossorigin="anonymous">

    <meta name="description"
        content="Owen Van Vooren: Developer, Photographer, Entrepreneur, and Tech Enthusiast extrodinaire.">
    <meta name="keywords"
        content="Owen Van Vooren, Developer, Photographer, Entrepreneur, Cinematographer, Videographer, iOS app developer, Mac developer">
    <meta name="theme-color" content="#2273f3">
    <meta property="og:title" content="owen van vooren">
    <meta property="og:type" content="website">
    <meta property="og:description"
        content="hi! iʼm owen van vooren. iʼm a ui designer and developer with a focus on inuitive, minimal, and human-centered design.">
    <meta property="og:image" content="capture.png">
    <meta property="og:url" content="https://owen.uno">
    <title>owen van vooren</title>
    <link rel="stylesheet" href="/css/instyle.css">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <meta name="apple-mobile-web-app-title" content="owen.uno">
    <link rel="manifest" href="/site.webmanifest">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            emailjs.init({
                publicKey: "PxfqxlG7r1ZziwElH"
            });
        })();
    </script>
</head>

<body>
    <main>
        <div id="top-container">
            <p id="hi-intro">hi, I'm</p>
            <h1 id="name">owen van vooren</h1>
            <p id="description">ui designer <span id="mid-slash">/</span> developer</p>
        </div>

        <img src="/images/arrow.svg" alt="" id="arrow" draggable="false" oncontextmenu="return false">

        <div id="link-container">
            <div id="left-links">
                <div><a href="portfolio" class="link right-link projects">projects</a></div>
                <a href="#" class="link right-link" id="about-link">
                    about me<img src="images/blast.svg" id="blast" alt="" draggable="false">
                </a>
                <div><a href="#" class="link right-link contact" id="contact-link">contact</a></div>
            </div>
        </div>

        <div id="right-links">
            <a href="https://nocturne.owen.uno" class="link right-link" id="nocturne">
                <img src="/images/projects/nocturne.png" draggable="false">
                <div class="tooltip">
                    <h3>nocturne</h3>
                    <p>a place to collect your thoughts</p>
                </div>
            </a>
            <a href="https://owen.uno/portfolio" class="link right-link">
                <img src="/images/icons/apple-logo.svg" draggable="false">
                <div class="tooltip">
                    <h3>My Portfolio</h3>
                    <p>My retro portfolio</p>
                </div>
            </a>
            <a href="https://ohno.owen.uno" class="link right-link">
                <img src="/images/projects/ohno.png" draggable="false">
                <div class="tooltip">
                    <h3>ohno</h3>
                    <p>a microblog, by yours truly</p>
                </div>
            </a>
            <a href="https://yay.owen.uno" class="link right-link">
                <img src="/images/projects/yay.png" draggable="false">
                <div class="tooltip">
                    <h3>yay</h3>
                    <p>Zero-risk meaningless crypto</p>
                </div>
            </a>
            <a href="https://owen.uno/retroarchive/wordclock" class="link right-link">
                <img src="/images/projects/wordclock.png" draggable="false">
                <div class="tooltip">
                    <h3>word clock</h3>
                    <p>Tell the time with a click</p>
                </div>
            </a>
            <a href="https://owen.uno/retroarchive/catchat" class="link right-link">
                <img src="/images/projects/catchat.png" draggable="false">
                <div class="tooltip">
                    <h3>CatChat</h3>
                    <p>The (not-so-intelligent) feline AI</p>
                </div>
            </a>
            <a href="https://youtu.be/Z0Q-V8SpUrk" class="link right-link">
                <img src="/images/projects/tv.png" draggable="false">
                <div class="tooltip">
                    <h3>television</h3>
                    <p>a design made in sketch</p>
                </div>
            </a>
        </div>
    </main>

    <img src="/images/squiggle.svg" id="squiggle" alt="" draggable="false" oncontextmenu="return false">
    <div id="about-popup" class="popup hidden">
        <div class="popup-content">
            <span id="popup-close">&times;</span>
            <h2>about me</h2>
            <p>
                I'm Owen Van Vooren, a UI designer and developer. I make fun apps and games (big and small) for the
                internet and beyond.
            </p>
        </div>
    </div>

    <div id="contact-popup" class="popup hidden">
        <div class="popup-content">
            <span id="contact-popup-close">&times;</span>
            <h2>contact</h2>
            <div class="contact-section">
                <p class="contact-text">Send me an email at <a href="mailto:hi@owen.uno"
                        class="email-link">hi@owen.uno</a></p>

                <div class="contact-divider">
                    <span class="divider-line"></span>
                    <span class="divider-text">or</span>
                    <span class="divider-line"></span>
                </div>

                <div class="signup-form">
                    <p class="contact-text">Sign up for updates:</p>
                    <form id="email-signup">
                        <div class="form-group">
                            <input type="email" id="email-input" name="user_email" placeholder="Your email address"
                                required>
                            <input type="hidden" name="to_email" value="hi@owen.uno">
                            <input type="hidden" name="message" value="New subscription request">
                            <button type="submit" id="signup-button">
                                <span id="button-text">Subscribe</span>
                                <span id="button-spinner" class="spinner hidden"></span>
                            </button>
                        </div>
                        <div id="signup-message"></div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        const aboutLink = document.getElementById('about-link');
        const aboutPopup = document.getElementById('about-popup');
        const closeBtn = document.getElementById('popup-close');

        const contactLink = document.getElementById('contact-link');
        const contactPopup = document.getElementById('contact-popup');
        const contactCloseBtn = document.getElementById('contact-popup-close');
        const emailForm = document.getElementById('email-signup');
        const signupMessage = document.getElementById('signup-message');
        const buttonText = document.getElementById('button-text');
        const buttonSpinner = document.getElementById('button-spinner');

        aboutLink.addEventListener('click', (e) => {
            e.preventDefault();
            aboutPopup.classList.remove('hidden');
            const content = aboutPopup.querySelector('.popup-content');
            content.classList.add('animate');

            setTimeout(() => content.classList.remove('animate'), 300);
        });

        closeBtn.addEventListener('click', () => {
            const content = aboutPopup.querySelector('.popup-content');
            content.classList.add('fade-out');

            setTimeout(() => {
                aboutPopup.classList.add('hidden');
                content.classList.remove('fade-out');
            }, 300);
        });

        contactLink.addEventListener('click', (e) => {
            e.preventDefault();
            contactPopup.classList.remove('hidden');
            const content = contactPopup.querySelector('.popup-content');
            content.classList.add('animate');

            setTimeout(() => content.classList.remove('animate'), 300);
        });

        contactCloseBtn.addEventListener('click', () => {
            const content = contactPopup.querySelector('.popup-content');
            content.classList.add('fade-out');

            setTimeout(() => {
                contactPopup.classList.add('hidden');
                content.classList.remove('fade-out');
            }, 300);
        });

        emailForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const email = document.getElementById('email-input').value;

            signupMessage.textContent = '';
            signupMessage.className = '';

            if (!validateEmail(email)) {
                const errorMessage = getEmailErrorMessage(email);
                signupMessage.textContent = errorMessage;
                signupMessage.classList.add('error');
                return;
            }

            const lastSubmitTime = localStorage.getItem('lastSubmitTime');
            const now = Date.now();
            if (lastSubmitTime && now - lastSubmitTime < 60000) { // 1 minute cooldown
                signupMessage.textContent = 'Please wait before submitting again';
                signupMessage.classList.add('error');
                return;
            }
            localStorage.setItem('lastSubmitTime', now);

            const submitButton = document.getElementById('signup-button');
            submitButton.disabled = true;
            buttonText.classList.add('hidden');
            buttonSpinner.classList.remove('hidden');

            // Send notification email to owen@owen.uno
            emailjs.send('service_81a40w4', 'template_2tvssaq', {
                user_email: email,
                to_email: 'owen@owen.uno',
                message: 'New subscription request'
            })
                .then(function () {
                    // Send thank you email to the subscriber
                    return emailjs.send('service_81a40w4', 'template_cntgssn', {
                        user_email: email,
                        to_email: email
                    });
                })
                .then(function () {
                    signupMessage.textContent = 'Thanks for subscribing!';
                    signupMessage.classList.add('success');

                    document.getElementById('email-input').value = '';
                })
                .catch(function (error) {
                    signupMessage.textContent = 'Something went wrong. Please try again later.';
                    signupMessage.classList.add('error');
                    console.error('EmailJS error:', error);
                })
                .finally(function () {
                    submitButton.disabled = false;
                    buttonText.classList.remove('hidden');
                    buttonSpinner.classList.add('hidden');
                    if (signupMessage.classList.contains('success')) {
                        setTimeout(() => {
                            signupMessage.textContent = '';
                            signupMessage.classList.remove('success');
                        }, 3000);
                    }
                });
        });

        document.getElementById('email-input').addEventListener('input', function () {
            const email = this.value;
            const emailInput = document.getElementById('email-input');
            if (!email) {
                signupMessage.textContent = '';
                signupMessage.className = '';
                emailInput.classList.remove('input-error');
                return;
            }

            if (!validateEmail(email)) {
                const errorMessage = getEmailErrorMessage(email);
                signupMessage.textContent = errorMessage;
                signupMessage.classList.add('error');
                emailInput.classList.add('input-error');
            } else {
                signupMessage.textContent = '';
                signupMessage.className = '';
                emailInput.classList.remove('input-error');
            }
        });

        function validateEmail(email) {
            const regex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/;

            if (regex.test(email)) {
                const domain = email.substring(email.indexOf('@') + 1);

                if (!domain.includes('.')) {
                    return false;
                }

                const tld = domain.substring(domain.lastIndexOf('.') + 1);
                if (tld.length < 2) {
                    return false;
                }

                return true;
            }

            return false;
        }

        function getEmailErrorMessage(email) {
            if (!email.includes('@')) {
                return 'Please include an @ in the email address';
            } else if (email.indexOf('@') === 0) {
                return 'Please enter a username before the @';
            } else if (email.indexOf('@') === email.length - 1) {
                return 'Please include a domain after the @';
            }

            const domain = email.substring(email.indexOf('@') + 1);

            if (!domain.includes('.')) {
                return 'Please include a domain extension (e.g. .com)';
            } else if (domain.lastIndexOf('.') === 0) {
                return 'Please include a domain name before the extension';
            } else if (domain.lastIndexOf('.') === domain.length - 1) {
                return 'Please include a domain extension after the dot';
            }

            const tld = domain.substring(domain.lastIndexOf('.') + 1);
            if (tld.length < 2) {
                return 'Domain extension must be at least 2 characters';
            }

            return 'Please enter a valid email address';
        }

        window.addEventListener('click', (e) => {
            if (e.target === aboutPopup) {
                const content = aboutPopup.querySelector('.popup-content');
                content.classList.add('fade-out');

                setTimeout(() => {
                    aboutPopup.classList.add('hidden');
                    content.classList.remove('fade-out');
                }, 300);
            }

            if (e.target === contactPopup) {
                const content = contactPopup.querySelector('.popup-content');
                content.classList.add('fade-out');

                setTimeout(() => {
                    contactPopup.classList.add('hidden');
                    content.classList.remove('fade-out');
                }, 300);
            }
        });
    </script>
    <script type="module" src="firebaseconfig.js"></script>
</body>

</html>